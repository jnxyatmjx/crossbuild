From 6d954b71fbea47a8240055072e5a6d3410641f02 Mon Sep 17 00:00:00 2001
From: jnxyatmjx <9018335+jnxyatmjx@users.noreply.github.com>
Date: Mon, 3 Apr 2023 17:59:48 +0800
Subject: [PATCH 60/85] Update c-cpp.yml

optimize
---
 .github/workflows/c-cpp.yml | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/.github/workflows/c-cpp.yml b/.github/workflows/c-cpp.yml
index ca1fff2..d55180e 100644
--- a/.github/workflows/c-cpp.yml
+++ b/.github/workflows/c-cpp.yml
@@ -28,6 +28,9 @@ jobs:
       run: |
         sudo apt-get install --no-install-recommends gettext build-essential autoconf libtool libpcre3-dev asciidoc xmlto libev-dev libc-ares-dev automake libmbedtls-dev libsodium-dev pkg-config
         git submodule update --init --recursive
-        mkdir bld_ && cd bld_ && cmake ../
+        mkdir bld_ 
+        cd bld_ && cmake ../
     - name: cmake-make
-      run: cd bld_ && make -j8
+      run: |
+        echo -e "$(nproc) thread compile"
+        cd bld_ && make -j$(nproc) || make -j1 || make -j1 V=s
-- 
2.25.1

