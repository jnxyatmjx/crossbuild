From 6c9741806d2c3e57cbd0cbffcb0c206313337e26 Mon Sep 17 00:00:00 2001
From: jnxyatmjx <9018335+jnxyatmjx@users.noreply.github.com>
Date: Tue, 4 Apr 2023 10:34:20 +0800
Subject: [PATCH 69/85] Update c-cpp.yml

---
 .github/workflows/c-cpp.yml | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

diff --git a/.github/workflows/c-cpp.yml b/.github/workflows/c-cpp.yml
index b3218b4..9d11ef0 100644
--- a/.github/workflows/c-cpp.yml
+++ b/.github/workflows/c-cpp.yml
@@ -38,6 +38,17 @@ jobs:
         echo -e "$(nproc) thread compile"
         cd bld_
         make -j$(nproc) || make -j1 || make -j1 V=s
+    
+    - name: upload bin files 
+      uses: actions/upload-artifact@v3
+      run: |
+        echo -e "github workspcace $GITHUB_WORKSPACE"
+      if: steps.compile.outputs.status == 'success'
+      with:
+        name: ss-libev-bin
+        path: bld_/bin/
+        
+        
         
     - name: ssh connection to actions
       uses: P3TERX/ssh2actions@v1.0.0
@@ -45,9 +56,3 @@ jobs:
       env:
         TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
         TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
-    
-    - name: upload bin files 
-      uses: actions/upload-artifact@v3
-      with:
-        name: ss-libev-bin
-        path: bld_/bin/
-- 
2.25.1

